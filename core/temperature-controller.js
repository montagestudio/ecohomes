var Montage=require("montage").Montage,Electricity=require("usdoe/service/electricity").Electricity;exports.TemperatureController=Montage.specialize({constructor:{value:function(){for(var e=["savingsPerHotDegree","savingsPerColdDegree","averageTemperature","dayTemperature","nightTemperature","zipCode"],r=0;r<e.length;r++)this.addPathChangeListener(e[r],this,"_updateConsumption")}},savingsPerHotDegree:{value:.02},savingsPerColdDegree:{value:.01},averageTemperature:{value:70},dayTemperature:{value:null},nightTemperature:{value:null},zipCode:{value:null},consumption:{value:null},_updateConsumption:{value:function(){var e,r;this.dayTemperature&&this.nightTemperature&&this.zipCode&&(r=Electricity.getAverageAnnualConsumption(this.zipCode),e=1+this._getSavingsFromTemperature(this.dayTemperature)+this._getSavingsFromTemperature(this.nightTemperature),this.consumption=r*e)}},_getSavingsFromTemperature:{value:function(e){var r;return r=e>=this.averageTemperature-10?(e-this.averageTemperature)*this.savingsPerHotDegree:-10*this.savingsPerHotDegree+(this.averageTemperature-10-e)*this.savingsPerColdDegree}}});