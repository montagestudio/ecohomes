montageDefine("c50fb48","runtime/dependencies/webgl-debug",{dependencies:[],factory:function(e,t,r){WebGLDebugUtils=function(){function e(e){if(null==g){g={};for(var t in e)"number"==typeof e[t]&&(g[e[t]]=t)}}function t(){if(null==g)throw"WebGLDebugUtils.init(ctx) not called"}function r(e){return t(),void 0!==g[e]}function n(e){t();var r=g[e];return void 0!==r?"gl."+r:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function o(e,t,r,o){var a=d[e];if(void 0!==a){var a=a[t];if(void 0!==a&&a[r])return n(o)}return null===o?"null":void 0===o?"undefined":o.toString()}function a(e,t){for(var r="",n=t.length,a=0;a<n;++a)r+=(0==a?"":", ")+o(e,n,a,t[a]);return r}function i(e,t,r){e.__defineGetter__(r,function(){return t[r]}),e.__defineSetter__(r,function(e){t[r]=e})}function u(t,r,a){function u(e,t){return function(){a&&a(t,arguments);var n=e[t].apply(e,arguments),o=e.getError();return 0!=o&&(f[o]=!0,r(o,t,arguments)),n}}e(t),r=r||function(e,t,r){for(var a="",i=r.length,u=0;u<i;++u)a+=(0==u?"":", ")+o(t,i,u,r[u]);s("WebGL error "+n(e)+" in "+t+"("+a+")")};var f={},c={};for(var l in t)"function"==typeof t[l]?c[l]=u(t,l):i(c,t,l);return c.getError=function(){for(var e in f)if(f.hasOwnProperty(e)&&f[e])return f[e]=!1,e;return t.NO_ERROR},c}function f(e){var t=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var n=0;n<t;++n)e.disableVertexAttribArray(n),e.vertexAttribPointer(n,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(n,0);e.deleteBuffer(r);for(var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n=0;n<o;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null);for(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT);e.getError(););}function c(e){function t(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}function r(e){var t=e.addEventListener;e.addEventListener=function(r,n,o){switch(r){case"webglcontextlost":x(n);break;case"webglcontextrestored":A(n);break;default:t.apply(e,arguments)}}}function n(){for(var e=Object.keys(_),t=0;t<e.length;++t)delete _[e]}function o(){++p,m||v==p&&e.loseContext()}function a(e,t){var r=e[t];return function(){if(o(),!m){var t=r.apply(e,arguments);return t}}}function u(){for(var e=0;e<T.length;++e){var t=T[e];t instanceof WebGLBuffer?s.deleteBuffer(t):t instanceof WebGLFramebuffer?s.deleteFramebuffer(t):t instanceof WebGLProgram?s.deleteProgram(t):t instanceof WebGLRenderbuffer?s.deleteRenderbuffer(t):t instanceof WebGLShader?s.deleteShader(t):t instanceof WebGLTexture&&s.deleteTexture(t)}}function c(e){return{statusMessage:e,preventDefault:function(){R=!0}}}function l(e){for(var t in e)"function"==typeof e[t]?d[t]=a(e,t):i(d,e,t);d.getError=function(){if(o(),!m)for(var e;e=s.getError();)_[e]=!0;for(var e in _)if(_[e])return delete _[e],e;return d.NO_ERROR};for(var r=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],n=0;n<r.length;++n){var u=r[n];d[u]=function(t){return function(){if(o(),m)return null;var r=t.apply(e,arguments);return r.__webglDebugContextLostId__=E,T.push(r),r}}(e[u])}for(var f=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"],n=0;n<f.length;++n){var u=f[n];d[u]=function(t){return function(){return o(),m?null:t.apply(e,arguments)}}(d[u])}for(var c=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"],n=0;n<c.length;++n){var u=c[n];d[u]=function(t){return function(){return o(),!m&&t.apply(e,arguments)}}(d[u])}return d.checkFramebufferStatus=function(t){return function(){return o(),m?d.FRAMEBUFFER_UNSUPPORTED:t.apply(e,arguments)}}(d.checkFramebufferStatus),d.getAttribLocation=function(t){return function(){return o(),m?-1:t.apply(e,arguments)}}(d.getAttribLocation),d.getVertexAttribOffset=function(t){return function(){return o(),m?0:t.apply(e,arguments)}}(d.getVertexAttribOffset),d.isContextLost=function(){return m},d}var s,d,g=[],b=[],d={},E=1,m=!1,T=[],v=0,p=0,R=!1,S=0,_={};e.getContext=function(t){return function(){var r=t.apply(e,arguments);if(r instanceof WebGLRenderingContext){if(r!=s){if(s)throw"got different context";s=r,d=l(s)}return d}return r}}(e.getContext);var x=function(e){g.push(t(e))},A=function(e){b.push(t(e))};return r(e),e.loseContext=function(){if(!m){for(m=!0,v=0,++E;s.getError(););n(),_[s.CONTEXT_LOST_WEBGL]=!0;var t=c("context lost"),r=g.slice();setTimeout(function(){for(var n=0;n<r.length;++n)r[n](t);S>=0&&setTimeout(function(){e.restoreContext()},S)},0)}},e.restoreContext=function(){m&&b.length&&setTimeout(function(){if(!R)throw"can not restore. webglcontestlost listener did not call event.preventDefault";u(),f(s),m=!1,p=0,R=!1;for(var e=b.slice(),t=c("context restored"),r=0;r<e.length;++r)e[r](t)},0)},e.loseContextInNCalls=function(e){if(m)throw"You can not ask a lost contet to be lost";v=p+e},e.getNumCalls=function(){return p},e.setRestoreTimeout=function(e){S=e},e}var l=function(e){window.console&&window.console.log&&window.console.log(e)},s=function(e){window.console&&window.console.error?window.console.error(e):l(e)},d={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0}},bindBuffer:{2:{0:!0}},bufferData:{3:{0:!0,2:!0}},bufferSubData:{3:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},readPixels:{7:{4:!0,5:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:!0}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}}},g=null;return{init:e,mightBeEnum:r,glEnumToString:n,glFunctionArgToString:o,glFunctionArgsToString:a,makeDebugContext:u,makeLostContextSimulatingCanvas:c,resetToInitialState:f}}()}});