montageDefine("1407ef0","tests/test-querystring",{dependencies:["../querystring","test"],factory:function(o,a,r){"use strict";var n=o("../querystring"),e=[["foo=918854443121279438895193","foo=918854443121279438895193",{foo:"918854443121279438895193"}],["foo=bar","foo=bar",{foo:"bar"}],["foo=bar&foo=quux","foo=bar&foo=quux",{foo:["bar","quux"]}],["foo=1&bar=2","foo=1&bar=2",{foo:"1",bar:"2"}],["foo%3Dbaz=bar","foo%3Dbaz=bar",{"foo=baz":"bar"}],["foo=baz=bar","foo=baz%3Dbar",{foo:"baz=bar"}],["str=foo&arr=1&arr=2&arr=3&somenull=&undef=","str=foo&arr=1&arr=2&arr=3&somenull=&undef=",{str:"foo",arr:["1","2","3"],somenull:"",undef:""}],[" foo = bar ","%20foo%20=%20bar%20",{" foo ":" bar "}],["foo=%EF%BF%BD","foo=%EF%BF%BD",{foo:"ï¿½"}]],f=[["foo:bar","foo:bar",{foo:"bar"}],["foo:bar;foo:quux","foo:bar;foo:quux",{foo:["bar","quux"]}],["foo:1&bar:2;baz:quux","foo:1%26bar%3A2;baz:quux",{foo:"1&bar:2",baz:"quux"}],["foo%3Abaz:bar","foo%3Abaz:bar",{"foo:baz":"bar"}],["foo:baz:bar","foo:baz%3Abar",{foo:"baz:bar"}]],t=function(){};t.prototype={a:"b"};var s=[[{regexp:/./g},"regexp=",{regexp:""}],[{regexp:new RegExp(".","g")},"regexp=",{regexp:""}],[{fn:function(){}},"fn=",{fn:""}],[{fn:new Function("")},"fn=",{fn:""}],[{math:Math},"math=",{math:""}],[{e:t},"e=",{e:""}],[{d:new Date},"d=",{d:""}],[{d:Date},"d=",{d:""}],[{f:new Boolean((!1)),t:new Boolean((!0))},"f=&t=",{f:"",t:""}],[{f:!1,t:!0},"f=false&t=true",{f:"false",t:"true"}],[{n:null},"n=",{n:""}],[{nan:NaN},"nan=",{nan:""}],[{inf:1/0},"inf=",{inf:""}]],i=[["",{}],["foo=bar&foo=baz",{foo:["bar","baz"]}],["blah=burp",{blah:"burp"}],["gragh=1&gragh=3&goo=2",{gragh:["1","3"],goo:"2"}],["frappucino=muffin&goat%5B%5D=scone&pond=moose",{frappucino:"muffin","goat[]":"scone",pond:"moose"}],["trololol=yes&lololo=no",{trololol:"yes",lololo:"no"}]];a["test basic"]=function(o){o.strictEqual("918854443121279438895193",n.parse("id=918854443121279438895193").id,"prase id=918854443121279438895193")},a["test that the canonical qs is parsed properly"]=function(o){e.forEach(function(a){o.deepEqual(a[2],n.parse(a[0]),"parse "+a[0])})},a["test that the colon test cases can do the same"]=function(o){f.forEach(function(a){o.deepEqual(a[2],n.parse(a[0],";",":"),"parse "+a[0]+" -> ; :")})},a["test the weird objects, that they get parsed properly"]=function(o){s.forEach(function(a){o.deepEqual(a[2],n.parse(a[1]),"parse "+a[1])})},a["test non munge test cases"]=function(o){i.forEach(function(a){o.deepEqual(a[0],n.stringify(a[1],"&","=",!1),"stringify "+JSON.stringify(a[1])+" -> & =")})},a["test the nested qs-in-qs case"]=function(o){var a=n.parse("a=b&q=x%3Dy%26y%3Dz");a.q=n.parse(a.q),o.deepEqual(a,{a:"b",q:{x:"y",y:"z"}},"parse a=b&q=x%3Dy%26y%3Dz")},a["test nested in colon"]=function(o){var a=n.parse("a:b;q:x%3Ay%3By%3Az",";",":");a.q=n.parse(a.q,";",":"),o.deepEqual(a,{a:"b",q:{x:"y",y:"z"}},"parse a:b;q:x%3Ay%3By%3Az -> ; :")},a["test stringifying"]=function(o){e.forEach(function(a){o.equal(a[1],n.stringify(a[2]),"stringify "+JSON.stringify(a[2]))}),f.forEach(function(a){o.equal(a[1],n.stringify(a[2],";",":"),"stringify "+JSON.stringify(a[2])+" -> ; :")}),s.forEach(function(a){o.equal(a[1],n.stringify(a[0]),"stringify "+JSON.stringify(a[0]))})},a["test stringifying nested"]=function(o){var a=n.stringify({a:"b",q:n.stringify({x:"y",y:"z"})});o.equal(a,"a=b&q=x%3Dy%26y%3Dz",JSON.stringify({a:"b","qs.stringify -> q":{x:"y",y:"z"}}));var r=!1;try{n.parse(void 0)}catch(e){r=!0}o.ok(!r,"does not throws on undefined")},a["test nested in colon"]=function(o){var a=n.stringify({a:"b",q:n.stringify({x:"y",y:"z"},";",":")},";",":");o.equal(a,"a:b;q:x%3Ay%3By%3Az","stringify "+JSON.stringify({a:"b","qs.stringify -> q":{x:"y",y:"z"}})+" -> ; : "),o.deepEqual({},n.parse(),"parse undefined")},o("test").run(a)}});