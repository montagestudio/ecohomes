montageDefine("d3659d0","spec/lib/jasmine-1.2.0/jasmine",{dependencies:[],factory:function(t,e,n){var r="undefined"==typeof window,i={};r&&(e.jasmine=i),i.unimplementedMethod_=function(){throw new Error("unimplemented method")},i.undefined=i.___undefined___,i.VERBOSE=!1,i.DEFAULT_UPDATE_INTERVAL=250,i.DEFAULT_TIMEOUT_INTERVAL=5e3,i.getGlobal=function(){function t(){return this}return t()},i.bindOriginal_=function(t,e){var n=t[e];return n.apply?function(){return n.apply(t,arguments)}:i.getGlobal()[e]},i.setTimeout=i.bindOriginal_(i.getGlobal(),"setTimeout"),i.clearTimeout=i.bindOriginal_(i.getGlobal(),"clearTimeout"),i.setInterval=i.bindOriginal_(i.getGlobal(),"setInterval"),i.clearInterval=i.bindOriginal_(i.getGlobal(),"clearInterval"),i.MessageResult=function(t){this.type="log",this.values=t,this.trace=new Error},i.MessageResult.prototype.toString=function(){for(var t="",e=0;e<this.values.length;e++)e>0&&(t+=" "),t+=i.isString_(this.values[e])?this.values[e]:i.pp(this.values[e]);return t},i.ExpectationResult=function(t){this.type="expect",this.matcherName=t.matcherName,this.passed_=t.passed,this.expected=t.expected,this.actual=t.actual,this.message=this.passed_?"Passed.":t.message;var e=t.trace||new Error(this.message);this.trace=this.passed_?"":e},i.ExpectationResult.prototype.toString=function(){return this.message},i.ExpectationResult.prototype.passed=function(){return this.passed_},i.getEnv=function(){var t=i.currentEnv_=i.currentEnv_||new i.Env;return t},i.isArray_=function(t){return i.isA_("Array",t)},i.isString_=function(t){return i.isA_("String",t)},i.isNumber_=function(t){return i.isA_("Number",t)},i.isA_=function(t,e){return Object.prototype.toString.apply(e)==="[object "+t+"]"},i.pp=function(t){var e=new i.StringPrettyPrinter;return e.format(t),e.string},i.isDomNode=function(t){return t.nodeType>0},i.any=function(t){return new i.Matchers.Any(t)},i.objectContaining=function(t){return new i.Matchers.ObjectContaining(t)},i.Spy=function(t){this.identity=t||"unknown",this.isSpy=!0,this.plan=function(){},this.mostRecentCall={},this.argsForCall=[],this.calls=[]},i.Spy.prototype.andCallThrough=function(){return this.plan=this.originalValue,this},i.Spy.prototype.andReturn=function(t){return this.plan=function(){return t},this},i.Spy.prototype.andThrow=function(t){return this.plan=function(){throw t},this},i.Spy.prototype.andCallFake=function(t){return this.plan=t,this},i.Spy.prototype.reset=function(){this.wasCalled=!1,this.callCount=0,this.argsForCall=[],this.calls=[],this.mostRecentCall={}},i.createSpy=function(t){var e=function(){e.wasCalled=!0,e.callCount++;var t=i.util.argsToArray(arguments);return e.mostRecentCall.object=this,e.mostRecentCall.args=t,e.argsForCall.push(t),e.calls.push({object:this,args:t}),e.plan.apply(this,arguments)},n=new i.Spy(t);for(var r in n)e[r]=n[r];return e.reset(),e},i.isSpy=function(t){return t&&t.isSpy},i.createSpyObj=function(t,e){if(!i.isArray_(e)||0===e.length)throw new Error("createSpyObj requires a non-empty array of method names to create spies for");for(var n={},r=0;r<e.length;r++)n[e[r]]=i.createSpy(t+"."+e[r]);return n},i.log=function(){var t=i.getEnv().currentSpec;t.log.apply(t,arguments)};var s=function(t,e){return i.getEnv().currentSpec.spyOn(t,e)};r&&(e.spyOn=s);var o=function(t,e){return i.getEnv().it(t,e)};r&&(e.it=o);var a=function(t,e){return i.getEnv().xit(t,e)};r&&(e.xit=a);var u=function(t){return i.getEnv().currentSpec.expect(t)};r&&(e.expect=u);var c=function(t){i.getEnv().currentSpec.runs(t)};r&&(e.runs=c);var l=function(t){i.getEnv().currentSpec.waits(t)};r&&(e.waits=l);var p=function(t,e,n){i.getEnv().currentSpec.waitsFor.apply(i.getEnv().currentSpec,arguments)};r&&(e.waitsFor=p);var h=function(t){i.getEnv().beforeEach(t)};r&&(e.beforeEach=h);var f=function(t){i.getEnv().afterEach(t)};r&&(e.afterEach=f);var d=function(t,e){return i.getEnv().describe(t,e)};r&&(e.describe=d);var y=function(t,e){return i.getEnv().xdescribe(t,e)};r&&(e.xdescribe=y),i.XmlHttpRequest="undefined"==typeof XMLHttpRequest?function(){function t(t){try{return t()}catch(e){}return null}var e=t(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||t(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||t(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||t(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!e)throw new Error("This browser does not support XMLHttpRequest.");return e}:XMLHttpRequest,i.util={},i.util.inherit=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},i.util.formatException=function(t){var e;t.line?e=t.line:t.lineNumber&&(e=t.lineNumber);var n;t.sourceURL?n=t.sourceURL:t.fileName&&(n=t.fileName);var r=t.name&&t.message?t.name+": "+t.message:t.toString();return n&&e&&(r+=" in "+n+" (line "+e+")"),r},i.util.htmlEscape=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},i.util.argsToArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},i.util.extend=function(t,e){for(var n in e)t[n]=e[n];return t},i.Env=function(){this.currentSpec=null,this.currentSuite=null,this.currentRunner_=new i.Runner(this),this.reporter=new i.MultiReporter,this.updateInterval=i.DEFAULT_UPDATE_INTERVAL,this.defaultTimeoutInterval=i.DEFAULT_TIMEOUT_INTERVAL,this.lastUpdate=0,this.specFilter=function(){return!0},this.nextSpecId_=0,this.nextSuiteId_=0,this.equalityTesters_=[],this.matchersClass=function(){i.Matchers.apply(this,arguments)},i.util.inherit(this.matchersClass,i.Matchers),i.Matchers.wrapInto_(i.Matchers.prototype,this.matchersClass)},i.Env.prototype.setTimeout=i.setTimeout,i.Env.prototype.clearTimeout=i.clearTimeout,i.Env.prototype.setInterval=i.setInterval,i.Env.prototype.clearInterval=i.clearInterval,i.Env.prototype.version=function(){if(i.version_)return i.version_;throw new Error("Version not set")},i.Env.prototype.versionString=function(){if(!i.version_)return"version unknown";var t=this.version(),e=t.major+"."+t.minor+"."+t.build;return t.release_candidate&&(e+=".rc"+t.release_candidate),e+=" revision "+t.revision},i.Env.prototype.nextSpecId=function(){return this.nextSpecId_++},i.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++},i.Env.prototype.addReporter=function(t){this.reporter.addReporter(t)},i.Env.prototype.execute=function(){this.currentRunner_.execute()},i.Env.prototype.describe=function(t,e){var n=new i.Suite(this,t,e,this.currentSuite),r=this.currentSuite;r?r.add(n):this.currentRunner_.add(n),this.currentSuite=n;var s=null;try{e.call(n)}catch(o){s=o}return s&&this.it("encountered a declaration exception",function(){throw s}),this.currentSuite=r,n},i.Env.prototype.beforeEach=function(t){this.currentSuite?this.currentSuite.beforeEach(t):this.currentRunner_.beforeEach(t)},i.Env.prototype.currentRunner=function(){return this.currentRunner_},i.Env.prototype.afterEach=function(t){this.currentSuite?this.currentSuite.afterEach(t):this.currentRunner_.afterEach(t)},i.Env.prototype.xdescribe=function(t,e){return{execute:function(){}}},i.Env.prototype.it=function(t,e){var n=new i.Spec(this,this.currentSuite,t);return this.currentSuite.add(n),this.currentSpec=n,e&&n.runs(e),n},i.Env.prototype.xit=function(t,e){return{id:this.nextSpecId(),runs:function(){}}},i.Env.prototype.compareObjects_=function(t,e,n,r){if(t.__Jasmine_been_here_before__===e&&e.__Jasmine_been_here_before__===t)return!0;t.__Jasmine_been_here_before__=e,e.__Jasmine_been_here_before__=t;var s=function(t,e){return null!==t&&t[e]!==i.undefined};for(var o in e)!s(t,o)&&s(e,o)&&n.push("expected has key '"+o+"', but missing from actual.");for(o in t)!s(e,o)&&s(t,o)&&n.push("expected missing key '"+o+"', but present in actual.");for(o in e)"__Jasmine_been_here_before__"!=o&&(this.equals_(t[o],e[o],n,r)||r.push("'"+o+"' was '"+(e[o]?i.util.htmlEscape(e[o].toString()):e[o])+"' in expected, but was '"+(t[o]?i.util.htmlEscape(t[o].toString()):t[o])+"' in actual."));return i.isArray_(t)&&i.isArray_(e)&&t.length!=e.length&&r.push("arrays were not the same length"),delete t.__Jasmine_been_here_before__,delete e.__Jasmine_been_here_before__,0===n.length&&0===r.length},i.Env.prototype.equals_=function(t,e,n,r){n=n||[],r=r||[];for(var s=0;s<this.equalityTesters_.length;s++){var o=this.equalityTesters_[s],a=o(t,e,this,n,r);if(a!==i.undefined)return a}return t===e||(t===i.undefined||null===t||e===i.undefined||null===e?t==i.undefined&&e==i.undefined:i.isDomNode(t)&&i.isDomNode(e)?t===e:t instanceof Date&&e instanceof Date?t.getTime()==e.getTime():t.jasmineMatches?t.jasmineMatches(e):e.jasmineMatches?e.jasmineMatches(t):t instanceof i.Matchers.ObjectContaining?t.matches(e):e instanceof i.Matchers.ObjectContaining?e.matches(t):i.isString_(t)&&i.isString_(e)?t==e:i.isNumber_(t)&&i.isNumber_(e)?t==e:"object"==typeof t&&"object"==typeof e?this.compareObjects_(t,e,n,r):t===e)},i.Env.prototype.contains_=function(t,e){if(i.isArray_(t)){for(var n=0;n<t.length;n++)if(this.equals_(t[n],e))return!0;return!1}return t.indexOf(e)>=0},i.Env.prototype.addEqualityTester=function(t){this.equalityTesters_.push(t)},i.Reporter=function(){},i.Reporter.prototype.reportRunnerStarting=function(t){},i.Reporter.prototype.reportRunnerResults=function(t){},i.Reporter.prototype.reportSuiteResults=function(t){},i.Reporter.prototype.reportSpecStarting=function(t){},i.Reporter.prototype.reportSpecResults=function(t){},i.Reporter.prototype.log=function(t){},i.Block=function(t,e,n){this.env=t,this.func=e,this.spec=n},i.Block.prototype.execute=function(t){try{this.func.apply(this.spec)}catch(e){this.spec.fail(e)}t()},i.JsApiReporter=function(){this.started=!1,this.finished=!1,this.suites_=[],this.results_={}},i.JsApiReporter.prototype.reportRunnerStarting=function(t){this.started=!0;for(var e=t.topLevelSuites(),n=0;n<e.length;n++){var r=e[n];this.suites_.push(this.summarize_(r))}},i.JsApiReporter.prototype.suites=function(){return this.suites_},i.JsApiReporter.prototype.summarize_=function(t){var e=t instanceof i.Suite,n={id:t.id,name:t.description,type:e?"suite":"spec",children:[]};if(e)for(var r=t.children(),s=0;s<r.length;s++)n.children.push(this.summarize_(r[s]));return n},i.JsApiReporter.prototype.results=function(){return this.results_},i.JsApiReporter.prototype.resultsForSpec=function(t){return this.results_[t]},i.JsApiReporter.prototype.reportRunnerResults=function(t){this.finished=!0},i.JsApiReporter.prototype.reportSuiteResults=function(t){},i.JsApiReporter.prototype.reportSpecResults=function(t){this.results_[t.id]={messages:t.results().getItems(),result:t.results().failedCount>0?"failed":"passed"}},i.JsApiReporter.prototype.log=function(t){},i.JsApiReporter.prototype.resultsForSpecs=function(t){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.summarizeResult_(this.results_[r])}return e},i.JsApiReporter.prototype.summarizeResult_=function(t){for(var e=[],n=t.messages.length,r=0;r<n;r++){var s=t.messages[r];e.push({text:"log"==s.type?s.toString():i.undefined,passed:!s.passed||s.passed(),type:s.type,message:s.message,trace:{stack:s.passed&&!s.passed()?s.trace.stack:i.undefined}})}return{result:t.result,messages:e}},i.Matchers=function(t,e,n,r){this.env=t,this.actual=e,this.spec=n,this.isNot=r||!1,this.reportWasCalled_=!1},i.Matchers.pp=function(t){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!")},i.Matchers.prototype.report=function(t,e,n){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs")},i.Matchers.wrapInto_=function(t,e){for(var n in t)if("report"!=n){var r=t[n];e.prototype[n]=i.Matchers.matcherFn_(n,r)}},i.Matchers.matcherFn_=function(t,e){return function(){var n=i.util.argsToArray(arguments),r=e.apply(this,arguments);if(this.isNot&&(r=!r),this.reportWasCalled_)return r;var s;if(!r)if(this.message)s=this.message.apply(this,arguments),i.isArray_(s)&&(s=s[this.isNot?1:0]);else{var o=t.replace(/[A-Z]/g,function(t){return" "+t.toLowerCase()});if(s="Expected "+i.pp(this.actual)+(this.isNot?" not ":" ")+o,n.length>0)for(var a=0;a<n.length;a++)a>0&&(s+=","),s+=" "+i.pp(n[a]);s+="."}var u=new i.ExpectationResult({matcherName:t,passed:r,expected:n.length>1?n:n[0],actual:this.actual,message:s});return this.spec.addMatcherResult(u),i.undefined}},i.Matchers.prototype.toBe=function(t){return this.actual===t},i.Matchers.prototype.toNotBe=function(t){return this.actual!==t},i.Matchers.prototype.toEqual=function(t){return this.env.equals_(this.actual,t)},i.Matchers.prototype.toNotEqual=function(t){return!this.env.equals_(this.actual,t)},i.Matchers.prototype.toMatch=function(t){return new RegExp(t).test(this.actual)},i.Matchers.prototype.toNotMatch=function(t){return!new RegExp(t).test(this.actual)},i.Matchers.prototype.toBeDefined=function(){return this.actual!==i.undefined},i.Matchers.prototype.toBeUndefined=function(){return this.actual===i.undefined},i.Matchers.prototype.toBeNull=function(){return null===this.actual},i.Matchers.prototype.toBeTruthy=function(){return!!this.actual},i.Matchers.prototype.toBeFalsy=function(){return!this.actual},i.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0)throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");if(!i.isSpy(this.actual))throw new Error("Expected a spy, but got "+i.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]},this.actual.wasCalled},i.Matchers.prototype.wasCalled=i.Matchers.prototype.toHaveBeenCalled,i.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0)throw new Error("wasNotCalled does not take arguments");if(!i.isSpy(this.actual))throw new Error("Expected a spy, but got "+i.pp(this.actual)+".");return this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]},!this.actual.wasCalled},i.Matchers.prototype.toHaveBeenCalledWith=function(){var t=i.util.argsToArray(arguments);if(!i.isSpy(this.actual))throw new Error("Expected a spy, but got "+i.pp(this.actual)+".");return this.message=function(){return 0===this.actual.callCount?["Expected spy "+this.actual.identity+" to have been called with "+i.pp(t)+" but it was never called.","Expected spy "+this.actual.identity+" not to have been called with "+i.pp(t)+" but it was."]:["Expected spy "+this.actual.identity+" to have been called with "+i.pp(t)+" but was called with "+i.pp(this.actual.argsForCall),"Expected spy "+this.actual.identity+" not to have been called with "+i.pp(t)+" but was called with "+i.pp(this.actual.argsForCall)]},this.env.contains_(this.actual.argsForCall,t)},i.Matchers.prototype.wasCalledWith=i.Matchers.prototype.toHaveBeenCalledWith,i.Matchers.prototype.wasNotCalledWith=function(){var t=i.util.argsToArray(arguments);if(!i.isSpy(this.actual))throw new Error("Expected a spy, but got "+i.pp(this.actual)+".");return this.message=function(){return["Expected spy not to have been called with "+i.pp(t)+" but it was","Expected spy to have been called with "+i.pp(t)+" but it was"]},!this.env.contains_(this.actual.argsForCall,t)},i.Matchers.prototype.toContain=function(t){return this.env.contains_(this.actual,t)},i.Matchers.prototype.toNotContain=function(t){return!this.env.contains_(this.actual,t)},i.Matchers.prototype.toBeLessThan=function(t){return this.actual<t},i.Matchers.prototype.toBeGreaterThan=function(t){return this.actual>t},i.Matchers.prototype.toBeCloseTo=function(t,e){0!==e&&(e=e||2);var n=Math.pow(10,e),r=Math.round(this.actual*n);return t=Math.round(t*n),t==r},i.Matchers.prototype.toThrow=function(t){var e,n=!1;if("function"!=typeof this.actual)throw new Error("Actual is not a function");try{this.actual()}catch(r){e=r}e&&(n=t===i.undefined||this.env.equals_(e.message||e,t.message||t));var s=this.isNot?"not ":"";return this.message=function(){return!e||t!==i.undefined&&this.env.equals_(e.message||e,t.message||t)?"Expected function to throw an exception.":["Expected function "+s+"to throw",t?t.message||t:"an exception",", but it threw",e.message||e].join(" ")},n},i.Matchers.Any=function(t){this.expectedClass=t},i.Matchers.Any.prototype.jasmineMatches=function(t){return this.expectedClass==String?"string"==typeof t||t instanceof String:this.expectedClass==Number?"number"==typeof t||t instanceof Number:this.expectedClass==Function?"function"==typeof t||t instanceof Function:this.expectedClass==Object?"object"==typeof t:t instanceof this.expectedClass},i.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"},i.Matchers.ObjectContaining=function(t){this.sample=t},i.Matchers.ObjectContaining.prototype.jasmineMatches=function(t,e,n){e=e||[],n=n||[];var r=i.getEnv(),s=function(t,e){return null!=t&&t[e]!==i.undefined};for(var o in this.sample)!s(t,o)&&s(this.sample,o)?e.push("expected has key '"+o+"', but missing from actual."):r.equals_(this.sample[o],t[o],e,n)||n.push("'"+o+"' was '"+(t[o]?i.util.htmlEscape(t[o].toString()):t[o])+"' in expected, but was '"+(this.sample[o]?i.util.htmlEscape(this.sample[o].toString()):this.sample[o])+"' in actual.");return 0===e.length&&0===n.length},i.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+i.pp(this.sample)+")>"},i.FakeTimer=function(){this.reset();var t=this;t.setTimeout=function(e,n){return t.timeoutsMade++,t.scheduleFunction(t.timeoutsMade,e,n,!1),t.timeoutsMade},t.setInterval=function(e,n){return t.timeoutsMade++,t.scheduleFunction(t.timeoutsMade,e,n,!0),t.timeoutsMade},t.clearTimeout=function(e){t.scheduledFunctions[e]=i.undefined},t.clearInterval=function(e){t.scheduledFunctions[e]=i.undefined}},i.FakeTimer.prototype.reset=function(){this.timeoutsMade=0,this.scheduledFunctions={},this.nowMillis=0},i.FakeTimer.prototype.tick=function(t){var e=this.nowMillis,n=e+t;this.runFunctionsWithinRange(e,n),this.nowMillis=n},i.FakeTimer.prototype.runFunctionsWithinRange=function(t,e){var n,r=[];for(var s in this.scheduledFunctions)n=this.scheduledFunctions[s],n!=i.undefined&&n.runAtMillis>=t&&n.runAtMillis<=e&&(r.push(n),this.scheduledFunctions[s]=i.undefined);if(r.length>0){r.sort(function(t,e){return t.runAtMillis-e.runAtMillis});for(var o=0;o<r.length;++o)try{var a=r[o];this.nowMillis=a.runAtMillis,a.funcToCall(),a.recurring&&this.scheduleFunction(a.timeoutKey,a.funcToCall,a.millis,!0)}catch(u){}this.runFunctionsWithinRange(t,e)}},i.FakeTimer.prototype.scheduleFunction=function(t,e,n,r){this.scheduledFunctions[t]={runAtMillis:this.nowMillis+n,funcToCall:e,recurring:r,timeoutKey:t,millis:n}},i.Clock={defaultFakeTimer:new i.FakeTimer,reset:function(){i.Clock.assertInstalled(),i.Clock.defaultFakeTimer.reset()},tick:function(t){i.Clock.assertInstalled(),i.Clock.defaultFakeTimer.tick(t)},runFunctionsWithinRange:function(t,e){i.Clock.defaultFakeTimer.runFunctionsWithinRange(t,e)},scheduleFunction:function(t,e,n,r){i.Clock.defaultFakeTimer.scheduleFunction(t,e,n,r)},useMock:function(){if(!i.Clock.isInstalled()){var t=i.getEnv().currentSpec;t.after(i.Clock.uninstallMock),i.Clock.installMock()}},installMock:function(){i.Clock.installed=i.Clock.defaultFakeTimer},uninstallMock:function(){i.Clock.assertInstalled(),i.Clock.installed=i.Clock.real},real:{setTimeout:i.getGlobal().setTimeout,clearTimeout:i.getGlobal().clearTimeout,setInterval:i.getGlobal().setInterval,clearInterval:i.getGlobal().clearInterval},assertInstalled:function(){if(!i.Clock.isInstalled())throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()")},isInstalled:function(){return i.Clock.installed==i.Clock.defaultFakeTimer},installed:null},i.Clock.installed=i.Clock.real,i.getGlobal().setTimeout=function(t,e){return i.Clock.installed.setTimeout.apply?i.Clock.installed.setTimeout.apply(this,arguments):i.Clock.installed.setTimeout(t,e)},i.getGlobal().setInterval=function(t,e){return i.Clock.installed.setInterval.apply?i.Clock.installed.setInterval.apply(this,arguments):i.Clock.installed.setInterval(t,e)},i.getGlobal().clearTimeout=function(t){return i.Clock.installed.clearTimeout.apply?i.Clock.installed.clearTimeout.apply(this,arguments):i.Clock.installed.clearTimeout(t)},i.getGlobal().clearInterval=function(t){return i.Clock.installed.clearTimeout.apply?i.Clock.installed.clearInterval.apply(this,arguments):i.Clock.installed.clearInterval(t)},i.MultiReporter=function(){this.subReporters_=[]},i.util.inherit(i.MultiReporter,i.Reporter),i.MultiReporter.prototype.addReporter=function(t){this.subReporters_.push(t)},function(){for(var t=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"],e=0;e<t.length;e++){var n=t[e];i.MultiReporter.prototype[n]=function(t){return function(){for(var e=0;e<this.subReporters_.length;e++){var n=this.subReporters_[e];n[t]&&n[t].apply(n,arguments)}}}(n)}}(),i.NestedResults=function(){this.totalCount=0,this.passedCount=0,this.failedCount=0,this.skipped=!1,this.items_=[]},i.NestedResults.prototype.rollupCounts=function(t){this.totalCount+=t.totalCount,this.passedCount+=t.passedCount,this.failedCount+=t.failedCount},i.NestedResults.prototype.log=function(t){this.items_.push(new i.MessageResult(t))},i.NestedResults.prototype.getItems=function(){return this.items_},i.NestedResults.prototype.addResult=function(t){"log"!=t.type&&(t.items_?this.rollupCounts(t):(this.totalCount++,t.passed()?this.passedCount++:this.failedCount++)),this.items_.push(t)},i.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount},i.PrettyPrinter=function(){this.ppNestLevel_=0},i.PrettyPrinter.prototype.format=function(t){if(this.ppNestLevel_>40)throw new Error("jasmine.PrettyPrinter: format() nested too deeply!");this.ppNestLevel_++;try{t===i.undefined?this.emitScalar("undefined"):null===t?this.emitScalar("null"):t===i.getGlobal()?this.emitScalar("<global>"):t.jasmineToString?this.emitScalar(t.jasmineToString()):"string"==typeof t?this.emitString(t):i.isSpy(t)?this.emitScalar("spy on "+t.identity):t instanceof RegExp?this.emitScalar(t.toString()):"function"==typeof t?this.emitScalar("Function"):"number"==typeof t.nodeType?this.emitScalar("HTMLNode"):t instanceof Date?this.emitScalar("Date("+t+")"):t.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(i.isArray_(t)?"Array":"Object")+">"):i.isArray_(t)||"object"==typeof t?(t.__Jasmine_been_here_before__=!0,i.isArray_(t)?this.emitArray(t):this.emitObject(t),delete t.__Jasmine_been_here_before__):this.emitScalar(t.toString())}finally{this.ppNestLevel_--}},i.PrettyPrinter.prototype.iterateObject=function(t,e){for(var n in t)"__Jasmine_been_here_before__"!=n&&e(n,!!t.__lookupGetter__&&(t.__lookupGetter__(n)!==i.undefined&&null!==t.__lookupGetter__(n)))},i.PrettyPrinter.prototype.emitArray=i.unimplementedMethod_,i.PrettyPrinter.prototype.emitObject=i.unimplementedMethod_,i.PrettyPrinter.prototype.emitScalar=i.unimplementedMethod_,i.PrettyPrinter.prototype.emitString=i.unimplementedMethod_,i.StringPrettyPrinter=function(){i.PrettyPrinter.call(this),this.string=""},i.util.inherit(i.StringPrettyPrinter,i.PrettyPrinter),i.StringPrettyPrinter.prototype.emitScalar=function(t){this.append(t)},i.StringPrettyPrinter.prototype.emitString=function(t){this.append("'"+t+"'")},i.StringPrettyPrinter.prototype.emitArray=function(t){this.append("[ ");for(var e=0;e<t.length;e++)e>0&&this.append(", "),this.format(t[e]);this.append(" ]")},i.StringPrettyPrinter.prototype.emitObject=function(t){var e=this;this.append("{ ");var n=!0;this.iterateObject(t,function(r,i){n?n=!1:e.append(", "),e.append(r),e.append(" : "),i?e.append("<getter>"):e.format(t[r])}),this.append(" }")},i.StringPrettyPrinter.prototype.append=function(t){this.string+=t},i.Queue=function(t){this.env=t,this.blocks=[],this.running=!1,this.index=0,this.offset=0,this.abort=!1},i.Queue.prototype.addBefore=function(t){this.blocks.unshift(t)},i.Queue.prototype.add=function(t){this.blocks.push(t)},i.Queue.prototype.insertNext=function(t){this.blocks.splice(this.index+this.offset+1,0,t),this.offset++},i.Queue.prototype.start=function(t){this.running=!0,this.onComplete=t,this.next_()},i.Queue.prototype.isRunning=function(){return this.running},i.Queue.LOOP_DONT_RECURSE=!0,i.Queue.prototype.next_=function(){for(var t=this,e=!0;e;)if(e=!1,t.index<t.blocks.length&&!this.abort){var n=!0,r=!1,s=function(){if(i.Queue.LOOP_DONT_RECURSE&&n)return void(r=!0);t.blocks[t.index].abort&&(t.abort=!0),t.offset=0,t.index++;var s=(new Date).getTime();t.env.updateInterval&&s-t.env.lastUpdate>t.env.updateInterval?(t.env.lastUpdate=s,t.env.setTimeout(function(){t.next_()},0)):i.Queue.LOOP_DONT_RECURSE&&r?e=!0:t.next_()};t.blocks[t.index].execute(s),n=!1,r&&s()}else t.running=!1,t.onComplete&&t.onComplete()},i.Queue.prototype.results=function(){for(var t=new i.NestedResults,e=0;e<this.blocks.length;e++)this.blocks[e].results&&t.addResult(this.blocks[e].results());return t},i.Runner=function(t){var e=this;e.env=t,e.queue=new i.Queue(t),e.before_=[],e.after_=[],e.suites_=[]},i.Runner.prototype.execute=function(){var t=this;t.env.reporter.reportRunnerStarting&&t.env.reporter.reportRunnerStarting(this),t.queue.start(function(){t.finishCallback()})},i.Runner.prototype.beforeEach=function(t){t.typeName="beforeEach",this.before_.splice(0,0,t)},i.Runner.prototype.afterEach=function(t){t.typeName="afterEach",this.after_.splice(0,0,t)},i.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)},i.Runner.prototype.addSuite=function(t){this.suites_.push(t)},i.Runner.prototype.add=function(t){t instanceof i.Suite&&this.addSuite(t),this.queue.add(t)},i.Runner.prototype.specs=function(){for(var t=this.suites(),e=[],n=0;n<t.length;n++)e=e.concat(t[n].specs());return e},i.Runner.prototype.suites=function(){return this.suites_},i.Runner.prototype.topLevelSuites=function(){for(var t=[],e=0;e<this.suites_.length;e++)this.suites_[e].parentSuite||t.push(this.suites_[e]);return t},i.Runner.prototype.results=function(){return this.queue.results()},i.Spec=function(t,e,n){if(!t)throw new Error("jasmine.Env() required");if(!e)throw new Error("jasmine.Suite() required");var r=this;r.id=t.nextSpecId?t.nextSpecId():null,r.env=t,r.suite=e,r.description=n,r.queue=new i.Queue(t),r.afterCallbacks=[],r.spies_=[],r.results_=new i.NestedResults,r.results_.description=n,r.matchersClass=null},i.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."},i.Spec.prototype.results=function(){return this.results_},i.Spec.prototype.log=function(){return this.results_.log(arguments)},i.Spec.prototype.runs=function(t){var e=new i.Block(this.env,t,this);return this.addToQueue(e),this},i.Spec.prototype.addToQueue=function(t){this.queue.isRunning()?this.queue.insertNext(t):this.queue.add(t)},i.Spec.prototype.addMatcherResult=function(t){this.results_.addResult(t)},i.Spec.prototype.expect=function(t){var e=new(this.getMatchersClass_())(this.env,t,this);return e.not=new(this.getMatchersClass_())(this.env,t,this,(!0)),e},i.Spec.prototype.waits=function(t){var e=new i.WaitsBlock(this.env,t,this);return this.addToQueue(e),this},i.Spec.prototype.waitsFor=function(t,e,n){for(var r=null,s=null,o=null,a=0;a<arguments.length;a++){var u=arguments[a];switch(typeof u){case"function":r=u;break;case"string":s=u;break;case"number":o=u}}var c=new i.WaitsForBlock(this.env,o,r,s,this);return this.addToQueue(c),this},i.Spec.prototype.fail=function(t){var e=new i.ExpectationResult({passed:!1,message:t?i.util.formatException(t):"Exception",trace:{stack:t.stack}});this.results_.addResult(e)},i.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass},i.Spec.prototype.addMatchers=function(t){var e=this.getMatchersClass_(),n=function(){e.apply(this,arguments)};i.util.inherit(n,e),i.Matchers.wrapInto_(t,n),this.matchersClass=n},i.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)},i.Spec.prototype.finish=function(t){this.removeAllSpies(),this.finishCallback(),t&&t()},i.Spec.prototype.after=function(t){this.queue.isRunning()?this.queue.add(new i.Block(this.env,t,this)):this.afterCallbacks.unshift(t)},i.Spec.prototype.execute=function(t){var e=this;return e.env.specFilter(e)?(this.env.reporter.reportSpecStarting(this),e.env.currentSpec=e,e.addBeforesAndAftersToQueue(),void e.queue.start(function(){e.finish(t)})):(e.results_.skipped=!0,void e.finish(t))},i.Spec.prototype.addBeforesAndAftersToQueue=function(){for(var t,e=this.env.currentRunner(),n=this.suite;n;n=n.parentSuite)for(t=0;t<n.before_.length;t++)this.queue.addBefore(new i.Block(this.env,n.before_[t],this));for(t=0;t<e.before_.length;t++)this.queue.addBefore(new i.Block(this.env,e.before_[t],this));for(t=0;t<this.afterCallbacks.length;t++)this.queue.add(new i.Block(this.env,this.afterCallbacks[t],this));for(n=this.suite;n;n=n.parentSuite)for(t=0;t<n.after_.length;t++)this.queue.add(new i.Block(this.env,n.after_[t],this));for(t=0;t<e.after_.length;t++)this.queue.add(new i.Block(this.env,e.after_[t],this))},i.Spec.prototype.explodes=function(){throw"explodes function should not have been called"},i.Spec.prototype.spyOn=function(t,e,n){if(t==i.undefined)throw"spyOn could not find an object to spy upon for "+e+"()";if(!n&&t[e]===i.undefined)throw e+"() method does not exist";if(!n&&t[e]&&t[e].isSpy)throw new Error(e+" has already been spied upon");var r=i.createSpy(e);return this.spies_.push(r),r.baseObj=t,r.methodName=e,r.originalValue=t[e],t[e]=r,r},i.Spec.prototype.removeAllSpies=function(){for(var t=0;t<this.spies_.length;t++){var e=this.spies_[t];e.baseObj[e.methodName]=e.originalValue}this.spies_=[]},i.Suite=function(t,e,n,r){var s=this;s.id=t.nextSuiteId?t.nextSuiteId():null,s.description=e,s.queue=new i.Queue(t),s.parentSuite=r,s.env=t,s.before_=[],s.after_=[],s.children_=[],s.suites_=[],s.specs_=[]},i.Suite.prototype.getFullName=function(){for(var t=this.description,e=this.parentSuite;e;e=e.parentSuite)t=e.description+" "+t;return t},i.Suite.prototype.finish=function(t){this.env.reporter.reportSuiteResults(this),this.finished=!0,"function"==typeof t&&t()},i.Suite.prototype.beforeEach=function(t){t.typeName="beforeEach",this.before_.unshift(t)},i.Suite.prototype.afterEach=function(t){t.typeName="afterEach",this.after_.unshift(t)},i.Suite.prototype.results=function(){return this.queue.results()},i.Suite.prototype.add=function(t){this.children_.push(t),t instanceof i.Suite?(this.suites_.push(t),this.env.currentRunner().addSuite(t)):this.specs_.push(t),this.queue.add(t)},i.Suite.prototype.specs=function(){return this.specs_},i.Suite.prototype.suites=function(){return this.suites_},i.Suite.prototype.children=function(){return this.children_},i.Suite.prototype.execute=function(t){var e=this;this.queue.start(function(){e.finish(t)})},i.WaitsBlock=function(t,e,n){this.timeout=e,i.Block.call(this,t,null,n)},i.util.inherit(i.WaitsBlock,i.Block),i.WaitsBlock.prototype.execute=function(t){i.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms..."),this.env.setTimeout(function(){t()},this.timeout)},i.WaitsForBlock=function(t,e,n,r,s){this.timeout=e||t.defaultTimeoutInterval,this.latchFunction=n,this.message=r,this.totalTimeSpentWaitingForLatch=0,i.Block.call(this,t,null,s)},i.util.inherit(i.WaitsForBlock,i.Block),i.WaitsForBlock.TIMEOUT_INCREMENT=10,i.WaitsForBlock.prototype.execute=function(t){i.VERBOSE&&this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));var e;try{e=this.latchFunction.apply(this.spec)}catch(n){return this.spec.fail(n),void t()}if(e)t();else if(this.totalTimeSpentWaitingForLatch>=this.timeout){var r="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:r}),this.abort=!0,t()}else{this.totalTimeSpentWaitingForLatch+=i.WaitsForBlock.TIMEOUT_INCREMENT;var s=this;this.env.setTimeout(function(){
s.execute(t)},i.WaitsForBlock.TIMEOUT_INCREMENT)}},i.version_={major:1,minor:2,build:0,revision:1337005947}}});