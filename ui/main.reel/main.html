<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>
        Main
    </title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/montage-serialization">
    {
        "owner": {
            "prototype": "ui/main.reel",
            "properties": {
                "element": {"#": "main"},
                "panelDescriptors": [
                    {
                        "panelKey": "introduction",
                        "label": "Welcome"
                    },
                    {
                        "panelKey": "thermostat",
                        "label": "Thermostat"
                    },
                    {
                        "panelKey": "solarPanels",
                        "label": "Solar Panels"
                    },
                    {
                        "panelKey": "counters",
                        "label": "Countertop"
                    },
                    {
                        "panelKey": "kitchen",
                        "label": "Kitchen"
                    },
                    {
                        "panelKey": "laundry",
                        "label": "Laundry"
                    },
                    {
                        "panelKey": "window",
                        "label": "Windows"
                    },
                    {
                        "panelKey": "staircase",
                        "label": "Staircase"
                    },
                    {
                        "panelKey": "callBack",
                        "label": "Contact Us"
                    }
                ],
                "viewPortElement": {"#": "viewPort"}
            },
            "bindings": {
                "currentPanel": {"<-": "panelDescriptors[@panelFlow.currentPanelIndex]"},
                "sceneView": {"<-": "@viewSubstitution.childComponents.0"}
            }
        },
        "application": {
            "prototype": "montage/core/application"
        },
        "callBack": {
            "prototype": "ui/cards/call-back.reel",
            "properties": {
                "element": {"#": "callBack"}
            },
            "bindings": {
                "configuration": {"<-": "@application.configuration"},
                "orderedPanelKeys": {"<-": "@owner.panelDescriptors.map{panelKey}"}
            }
        },
        "configurationPanels": {
            "prototype": "montage/ui/substitution.reel",
            "properties": {
                "element": {"#": "configurationPanels"}
            },
            "bindings": {
                "switchValue": {"<-": "@panelFlow:iteration.object.panelKey"}
            }
        },
        "countersPanel": {
            "prototype": "ui/cards/countertops.reel",
            "properties": {
                "element": {"#": "countersPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('counters')"}
            }
        },
        "flowTranslateStartListener": {
            "prototype": "montage/core/event/action-event-listener",
            "properties": {
                "action": "pause",
                "handler": {"@": "glView"}
            }
        },
        "glView": {
            "prototype": "ui/gl-view.reel",
            "properties": {
                "element": {"#": "glView"}
            },
            "bindings": {
                "configuration": {"<-": "@application.configuration"},
                "currentPanel": {"<-": "@owner.currentPanel"},
                "temperatureDelta": {"<-": "@owner.temperatureDelta"}
            }
        },
        "introductionPanel": {
            "prototype": "ui/cards/introduction.reel",
            "properties": {
                "element": {"#": "introductionPanel"}
            }
        },
        "kitchenPanel": {
            "prototype": "ui/cards/kitchen.reel",
            "properties": {
                "element": {"#": "kitchenPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('kitchen')"}
            }
        },
        "laundryPanel": {
            "prototype": "ui/cards/laundry.reel",
            "properties": {
                "element": {"#": "laundryPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('laundry')"}
            }
        },
        "navigation": {
            "prototype": "ui/navigation.reel",
            "properties": {
                "element": {"#": "navigation"}
            },
            "bindings": {
                "configuration": {"<-": "@application.configuration"},
                "currentPanelIndex": {"<-": "@panelFlow.currentPanelIndex"},
                "panelDescriptors": {"<-": "@owner.panelDescriptors"}
            },
            "listeners": [
                {
                    "type": "action",
                    "listener": {"@": "owner"}
                }
            ]
        },
        "overview": {
            "prototype": "ui/overview.reel",
            "properties": {
                "element": {"#": "overview"}
            },
            "bindings": {
                "configuration": {"<-": "@application.configuration"}
            }
        },
        "panelFlow": {
            "prototype": "ui/panel-flow.reel",
            "properties": {
                "element": {"#": "panelFlow"}
            },
            "bindings": {
                "content": {"<-": "@owner.panelDescriptors"}
            },
            "listeners": [
                {
                    "type": "flowTranslateStart",
                    "listener": {"@": "flowTranslateStartListener"}
                }
            ]
        },
        "solarPanels": {
            "prototype": "ui/cards/solar-panels.reel",
            "properties": {
                "element": {"#": "solarPanels"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('solarPanels')"}
            }
        },
        "staircasePanel": {
            "prototype": "ui/cards/staircase.reel",
            "properties": {
                "element": {"#": "staircasePanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('staircase')"}
            }
        },
        "staticView": {
            "prototype": "ui/static-view.reel",
            "properties": {
                "element": {"#": "staticView"}
            },
            "bindings": {
                "configuration": {"<-": "@application.configuration"},
                "currentPanel": {"<-": "@owner.currentPanel"}
            }
        },
        "substitutionDelay": {
            "prototype": "core/substitution-delay",
            "properties": {
                "delay": 500,
                "enabled": true,
                "excluded": [
                    "introduction"
                ]
            },
            "bindings": {
                "switchValues": {"<-": "@owner.panelDescriptors.map{panelKey}"}
            }
        },
        "thermostatPanel": {
            "prototype": "ui/cards/thermostat.reel",
            "properties": {
                "element": {"#": "thermostatPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('thermostat')"}
            }
        },
        "viewSubstitution": {
            "prototype": "montage/ui/substitution.reel",
            "properties": {
                "element": {"#": "viewSubstitution"}
            },
            "bindings": {
                "switchValue": {"<-": "@owner.viewKey"}
            }
        },
        "windowPanel": {
            "prototype": "ui/cards/window.reel",
            "properties": {
                "element": {"#": "windowPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@application.configuration.configurationMap.get('window')"}
            }
        }
    }
    </script>
</head>
<body>
    <div data-montage-id="main" class="Main">
        <section class="Main-viewport" data-montage-skin="light" data-montage-id="viewPort">
            <div class="Main-loader">
                <span class="Main-loader-dot"></span>
                <span class="Main-loader-dot"></span>
                <span class="Main-loader-dot"></span>
            </div>
            <div class="Main-room">
                <div data-montage-id="viewSubstitution">
                    <div data-arg="static" data-montage-id="staticView"></div>
                    <div data-arg="webgl" data-montage-id="glView"></div>
                </div>
                <div data-montage-id="overview" class="Main-overview"></div>
            </div>
        </section>
        <section class="Main-configuration">
            <ul data-montage-id="panelFlow" class="Main-panel">
                <li data-montage-id="configurationPanels" class="Main-cards">
                    <div data-arg="introduction" data-montage-id="introductionPanel"></div>
                    <div data-arg="staircase" data-montage-id="staircasePanel"></div>
                    <div data-arg="thermostat" data-montage-id="thermostatPanel"></div>
                    <div data-arg="kitchen" data-montage-id="kitchenPanel"></div>
                    <div data-arg="laundry" data-montage-id="laundryPanel"></div>
                    <div data-arg="solarPanels" data-montage-id="solarPanels"></div>
                    <div data-arg="window" data-montage-id="windowPanel"></div>
                    <div data-arg="counters" data-montage-id="countersPanel"></div>
                    <div data-arg="callBack" data-montage-id="callBack"></div>
                </li>
            </ul>
        </section>
        <section class="Main-navigation" data-montage-id="navigation"></section>
    </div>
</body>
</html>