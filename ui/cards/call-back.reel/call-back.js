var Component=require("montage/ui/component").Component,CallController=require("../../../core/call-controller").CallController;exports.CallBack=Component.specialize({constructor:{value:function(){this["super"](),this.callController=new CallController,this.callController.delegate=this,this.templateObjects={callController:this.callController},this.defineBinding("currentState",{"<-":"_stateChart.currentState.name"}),this.checkAlive()}},checkAlive:{value:function(){this.callController.alive().then(function(){this.currentStep="callNow"}.bind(this)).caught(function(){this.currentStep="unavailable"}.bind(this))}},callControllerStateDidChange:{value:function(l,t){this.currentStep=t}},callController:{value:null},currentStep:{value:"callNow"}});